{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/components/dashboard/DashboardHeader.tsx"],"sourcesContent":["// src/components/dashboard/DashboardHeader.tsx\r\n\r\n'use client';\r\n\r\nimport { Bell, UserCircle } from 'lucide-react';\r\n\r\n// Doktor bilgisini LocalStorage'dan almak\r\nconst getDoctorName = () => {\r\n  if (typeof window !== 'undefined') {\r\n    const user = localStorage.getItem('user');\r\n    if (user) {\r\n      try {\r\n        const parsedUser = JSON.parse(user);\r\n        return parsedUser.firstName || \"Doktor\";\r\n      } catch (e) {\r\n        return \"Doktor\";\r\n      }\r\n    }\r\n  }\r\n  return \"Doktor\";\r\n};\r\n\r\n// Bu bileÅŸen, hangi sayfada olduÄŸumuzu 'title' prop'u ile alacak\r\nexport default function DashboardHeader({ title }: { title: string }) {\r\n  const doctorName = getDoctorName();\r\n\r\n  return (\r\n    <div className=\"flex justify-between items-center mb-8\">\r\n      <h1 className=\"text-4xl font-bold text-gray-900\">{title}</h1>\r\n      \r\n      <div className=\"flex items-center space-x-4\">\r\n        {/* Ä°kon 1: Bildirimler (Yeni) */}\r\n        <button className=\"p-2 rounded-full text-gray-500 hover:bg-gray-200 transition-colors\">\r\n          <Bell className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        {/* Doktor AdÄ± ve AvatarÄ± */}\r\n        <div className=\"flex items-center space-x-3\">\r\n          <span className=\"text-md font-medium text-gray-700 hidden sm:block\">\r\n            {doctorName}\r\n          </span>\r\n          <div className=\"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center\">\r\n            <UserCircle className=\"w-6 h-6 text-indigo-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["c","_c","Bell","UserCircle","getDoctorName","window","user","localStorage","getItem","parsedUser","JSON","parse","firstName","e","DashboardHeader","t0","$","$i","Symbol","for","title","t1","doctorName","t2","t3","t4","t5","t6"],"mappings":";;;;;AAEa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,IAAI,EAAEC,UAAU,QAAQ,cAAc;;AAJ/C,+CAAA;AAEA,YAAY;;;;AAIZ,0CAAA;AACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI,OAAOC,MAAM,KAAK,WAAW,OAAE;QACjC,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;QACzC,IAAIF,IAAI,EAAE;YACR,IAAI;gBACF,MAAMG,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC;gBACnC,OAAOG,UAAU,CAACG,SAAS,IAAI,QAAQ;YACzC,CAAC,CAAC,OAAOC,CAAC,EAAE;gBACV,OAAO,QAAQ;YACjB;QACF;IACF;IACA,OAAO,QAAQ;AACjB,CAAC;AAGc,yBAAAE,EAAA;IAAA,MAAAC,CAAA,GAAAf,8OAAA,EAAA;IAAA,IAAAe,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAyB,MAAA,EAAAI,KAAAA,EAAA,GAAAL,EAA4B;IAAA,IAAAM,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC/CE,EAAA,GAAAjB,aAAa,CAAC,CAAC;QAAAY,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAlC,MAAAM,UAAA,GAAmBD,EAAe;IAAC,IAAAE,EAAA;IAAA,IAAAP,CAAA,CAAA,EAAA,KAAAI,KAAA,EAAA;QAI/BG,EAAA,iBAAA,uPAAA,EAA6D;YAA/C,SAAkC,EAAlC,kCAAkC,CAAEH;sBAAAA,KAAI,CAAE,EAAxD,EAA6D;;;;;;QAAAJ,CAAA,CAAA,EAAA,GAAAI,KAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAO,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAP,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAQ,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAI3DK,EAAA,iBAAA,uPAAA,MAES;YAFS,SAAoE,EAApE,oEAAoE;oCACpF,uPAAC,uQAAI;gBAAW,SAAS,EAAT,SAAS,GAC3B,EAFA,MAES;;;;;;;;;;;QAAAR,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAS,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAIPM,EAAA,iBAAA,uPAAA,IAEO;YAFS,SAAmD,EAAnD,mDAAmD,CAChEH;sBAAAA,UAAS,CACZ,EAFA,IAEO;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAU,EAAA;IAAA,IAAAV,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAVXO,EAAA,iBAAA,uPAAA,GAeM;YAfS,SAA6B,EAA7B,6BAA6B,CAE1C;;gBAAAF,EAEQ;8BAGR,uPAAA,GAOM;oBAPS,SAA6B,EAA7B,6BAA6B,CAC1C;;wBAAAC,EAEM;sCACN,uPAAA,GAEM;4BAFS,SAAuE,EAAvE,uEAAuE;oDACpF,uPAAC,6RAAU;gCAAW,SAAyB,EAAzB,yBAAyB,GACjD,EAFA,GAEM,CACR,EAPA,GAOM,CACR,EAfA,GAeM;;;;;;;;;;;;;;;;;;;;;;;QAAAT,CAAA,CAAA,EAAA,GAAAU,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAV,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAW,EAAA;IAAA,IAAAX,CAAA,CAAA,EAAA,KAAAO,EAAA,EAAA;QAlBRI,EAAA,iBAAA,uPAAA,GAmBM;YAnBS,SAAwC,EAAxC,wCAAwC,CACrD;;gBAAAJ,EAA4D,CAE5D;gBAAAG,EAeK,CACP,EAnBA,GAmBM;;;;;;;QAAAV,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAW,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAX,CAAA,CAAA,EAAA;IAAA;IAAA,OAnBNW,EAmBM;AAAA;KAvBKb","ignoreList":[]}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError } from 'axios';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3001';\r\n\r\nconst api: AxiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 10000,\r\n});\r\n\r\n// Request Interceptor (Token Ekleme)\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('access_token');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Response Interceptor (Hata Yakalama)\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error: AxiosError) => {\r\n    // ðŸš¨ 401 (Unauthorized) HatasÄ± Yakalama\r\n    if (error.response && error.response.status === 401) {\r\n      if (typeof window !== 'undefined') {\r\n        // 1. Token geÃ§ersiz, temizle\r\n        localStorage.removeItem('access_token');\r\n        \r\n        // 2. EÄŸer zaten login sayfasÄ±nda deÄŸilsek yÃ¶nlendir\r\n        if (!window.location.pathname.includes('/auth/login')) {\r\n          console.warn('Oturum sÃ¼resi doldu, giriÅŸ sayfasÄ±na yÃ¶nlendiriliyor...');\r\n          window.location.href = '/auth/login';\r\n        }\r\n      }\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAEqB;AAFrB;;AAEA,MAAM,eAAe,qOAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI;AAE7D,MAAM,MAAqB,6MAAK,CAAC,MAAM,CAAC;IACtC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,SAAS;AACX;AAEA,qCAAqC;AACrC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,uCAAuC;AACvC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,wCAAwC;IACxC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD,wCAAmC;YACjC,6BAA6B;YAC7B,aAAa,UAAU,CAAC;YAExB,oDAAoD;YACpD,IAAI,CAAC,OAAO,QAAQ,CAAC,QAAQ,CAAC,QAAQ,CAAC,gBAAgB;gBACrD,QAAQ,IAAI,CAAC;gBACb,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;QACF;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/app/dashboard/randevular/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { tr } from 'date-fns/locale';\r\nimport { UserCircle, Phone, Mail, Check, X } from 'lucide-react';\r\nimport DashboardHeader from '@/components/dashboard/DashboardHeader';\r\nimport api from '@/services/api'; // ðŸš¨ DÃ¼zeltme\r\n\r\nexport default function DashboardRandevularPage() {\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchAppointments = async () => {\r\n    try {\r\n      const res = await api.get('/appointments/my-appointments');\r\n      setAppointments(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAppointments();\r\n  }, []);\r\n\r\n  const updateStatus = async (id: string, status: string) => {\r\n    // Ä°yimser gÃ¼ncelleme (UI'Ä± hemen gÃ¼ncelle)\r\n    setAppointments(prev => prev.map(a => a.id === id ? { ...a, status } : a));\r\n    try {\r\n      await api.patch(`/appointments/${id}/status`, { status });\r\n    } catch (error) {\r\n      console.error(\"GÃ¼ncelleme hatasÄ±\", error);\r\n      fetchAppointments(); // Hata varsa geri al\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"p-8\">YÃ¼kleniyor...</div>;\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <DashboardHeader title=\"RandevularÄ±m\" />\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\r\n        {appointments.map((app) => (\r\n          <div key={app.id} className=\"bg-white p-6 rounded-lg shadow border-l-4 border-indigo-500\">\r\n            <div className=\"flex justify-between mb-4\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <UserCircle className=\"w-10 h-10 text-gray-400\" />\r\n                <div>\r\n                  <h4 className=\"font-bold\">{app.guestName}</h4>\r\n                  <p className=\"text-sm text-gray-500\">{format(new Date(app.dateTime), 'dd MMMM HH:mm', { locale: tr })}</p>\r\n                </div>\r\n              </div>\r\n              <span className=\"text-xs font-bold px-2 py-1 bg-gray-100 rounded self-start\">{app.status}</span>\r\n            </div>\r\n            {app.status === 'PENDING' && (\r\n              <div className=\"flex gap-2 mt-4\">\r\n                <button onClick={() => updateStatus(app.id, 'CONFIRMED')} className=\"flex-1 bg-green-600 text-white py-2 rounded flex justify-center items-center gap-2 hover:bg-green-700\"><Check size={16}/> Onayla</button>\r\n                <button onClick={() => updateStatus(app.id, 'CANCELLED')} className=\"flex-1 bg-red-100 text-red-600 py-2 rounded flex justify-center items-center gap-2 hover:bg-red-200\"><X size={16}/> Reddet</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["useEffect","useState","format","tr","UserCircle","Phone","Mail","Check","X","DashboardHeader","api","DashboardRandevularPage","appointments","setAppointments","loading","setLoading","fetchAppointments","res","get","data","err","console","error","updateStatus","id","status","prev","map","a","patch","app","guestName","Date","dateTime","locale"],"mappings":";;;;;AAEA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,MAAM,QAAQ,UAAU;AACjC,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,UAAU,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAEC,CAAC,QAAQ,cAAc;;;AAChE,OAAOC,eAAe,MAAM,wCAAwC;AACpE,OAAOC,GAAG,MAAM,gBAAgB,CAAC,wRAAC,cAAA;;;AAPlC,YAAY;;;;;;;AASG;;IACb,MAAM,CAACE,YAAY,EAAEC,eAAe,CAAC,OAAGZ,mOAAQ,CAAC,CAAO,EAAJ,AAAM,CAAC,CAAL,CAAC;IACvD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,uOAAQ,EAAC,IAAI,CAAC;IAE5C,MAAMe,iBAAiB,GAAG,MAAAA,CAAA,KAAY;QACpC,IAAI;YACF,MAAMC,GAAG,GAAG,MAAMP,8LAAG,CAACQ,GAAG,CAAC,+BAA+B,CAAC;YAC1DL,eAAe,CAACI,GAAG,CAACE,IAAI,CAAC;QAC3B,CAAC,CAAC,OAAOC,GAAG,EAAE;YACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;QACpB,CAAC,QAAS;YACRL,UAAU,CAAC,KAAK,CAAC;QACnB;IACF,CAAC;QAEDf,oOAAS;6CAAC,MAAM;YACdgB,iBAAiB,CAAC,CAAC;QACrB,CAAC;4CAAE,EAAE,CAAC;IAEN,MAAMO,YAAY,GAAG,MAAAA,CAAOC,EAAE,EAAE,AAAQC,MAAM,AAAR,EAAU,MAAM,KAAK;QACzD,2CAAA;QACAZ,eAAe,EAACa,IAAI,GAAIA,IAAI,CAACC,GAAG,EAACC,CAAC,GAAIA,CAAC,CAACJ,EAAE,KAAKA,EAAE,GAAG;oBAAE,GAAGI,CAAC;oBAAEH;gBAAO,CAAC,GAAGG,CAAC,CAAC,CAAC;QAC1E,IAAI;YACF,MAAMlB,8LAAG,CAACmB,KAAK,CAAC,CAAA,cAAA,EAAiBL,EAAE,CAAA,OAAA,CAAS,EAAE;gBAAEC;YAAO,CAAC,CAAC;QAC3D,CAAC,CAAC,OAAOH,KAAK,EAAE;YACdD,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;YACzCN,iBAAiB,CAAC,CAAC,CAAC,CAAC,qBAAA;QACvB;IACF,CAAC;IAED,IAAIF,OAAO,EAAE,qBAAO,uPAAC,GAAG;QAAC,SAAS,EAAC,KAAK;kBAAC,aAAa,EAAE,GAAG,CAAC;;;;;;IAE5D,qBACE,uPAAC,GAAG;QAAC,SAAS,EAAC,KAAK,CAAC;;0BACnB,uPAAC,0NAAe;gBAAC,KAAK,EAAC,cAAc,GAAG;;;;;;0BACxC,uPAAC,GAAG;gBAAC,SAAS,EAAC,4CAA4C,CAAC;0BACzDF,YAAY,CAACe,GAAG,EAAEG,GAAG,iBACpB,uPAAC,GAAG,CAAC,GAAG,CAAC;wBAAS,SAAS,EAAC,6DAA6D,CAAC;;0CACxF,uPAAC,GAAG;gCAAC,SAAS,EAAC,2BAA2B,CAAC;;kDACzC,uPAAC,GAAG;wCAAC,SAAS,EAAC,yBAAyB,CAAC;;0DACvC,uPAAC,6RAAU;gDAAC,SAAS,EAAC,yBAAyB,GAAG;;;;;;0DAClD,uPAAC,GAAG,CAAC;;kEACH,uPAAC,EAAE;wDAAC,SAAS,EAAC,WAAW,CAAC;kEAACA,GAAG,CAACC,SAAS,CAAC,EAAE,EAAE,CAAC;;;;;;kEAC9C,uPAAC,CAAC;wDAAC,SAAS,EAAC,uBAAuB,CAAC;sEAAC7B,4NAAM,EAAC,IAAI8B,IAAI,CAACF,GAAG,CAACG,QAAQ,CAAC,EAAE,eAAe,EAAE;4DAAEC,MAAM,EAAE/B,8MAAAA;wDAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;kDAG9G,uPAAC,IAAI;wCAAC,SAAS,EAAC,4DAA4D,CAAC;kDAAC2B,GAAG,CAACL,MAAM,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;4BAEjGK,GAAG,CAACL,MAAM,KAAK,SAAS,kBACvB,uPAAC,GAAG;gCAAC,SAAS,EAAC,iBAAiB,CAAC;;kDAC/B,uPAAC,MAAM;wCAAC,OAAO,CAAC,CAAC,IAAMF,YAAY,CAACO,GAAG,CAACN,EAAE,EAAE,WAAW,CAAC,CAAC;wCAAC,SAAS,EAAC,uGAAuG;;0DAAC,uPAAC,0QAAK;gDAAC,IAAI,CAAC,CAAC,EAAE,CAAC;;;;;;4CAAE,OAAO,EAAE,MAAM,CAAC;;;;;;;kDAC9M,uPAAC,MAAM;wCAAC,OAAO,CAAC,CAAC,IAAMD,YAAY,CAACO,GAAG,CAACN,EAAE,EAAE,WAAW,CAAC,CAAC;wCAAC,SAAS,EAAC,qGAAqG;;0DAAC,uPAAC,8PAAC;gDAAC,IAAI,CAAC,CAAC,EAAE,CAAC;;;;;;4CAAE,OAAO,EAAE,MAAM,CAAC;;;;;;;;;;;;;;uBAdpMM,GAAG,CAACN,EAAE,CAAC;;;;;;;;;;;;;;;;AAsB3B;;KA3DwBb,uBAAuBA,CAAA,EAAG","ignoreList":[]}}]
}