{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/components/dashboard/DashboardHeader.tsx"],"sourcesContent":["// src/components/dashboard/DashboardHeader.tsx\r\n\r\n'use client';\r\n\r\nimport { Bell, UserCircle } from 'lucide-react';\r\n\r\n// Doktor bilgisini LocalStorage'dan almak\r\nconst getDoctorName = () => {\r\n  if (typeof window !== 'undefined') {\r\n    const user = localStorage.getItem('user');\r\n    if (user) {\r\n      try {\r\n        const parsedUser = JSON.parse(user);\r\n        return parsedUser.firstName || \"Doktor\";\r\n      } catch (e) {\r\n        return \"Doktor\";\r\n      }\r\n    }\r\n  }\r\n  return \"Doktor\";\r\n};\r\n\r\n// Bu bileÅŸen, hangi sayfada olduÄŸumuzu 'title' prop'u ile alacak\r\nexport default function DashboardHeader({ title }: { title: string }) {\r\n  const doctorName = getDoctorName();\r\n\r\n  return (\r\n    <div className=\"flex justify-between items-center mb-8\">\r\n      <h1 className=\"text-4xl font-bold text-gray-900\">{title}</h1>\r\n      \r\n      <div className=\"flex items-center space-x-4\">\r\n        {/* Ä°kon 1: Bildirimler (Yeni) */}\r\n        <button className=\"p-2 rounded-full text-gray-500 hover:bg-gray-200 transition-colors\">\r\n          <Bell className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        {/* Doktor AdÄ± ve AvatarÄ± */}\r\n        <div className=\"flex items-center space-x-3\">\r\n          <span className=\"text-md font-medium text-gray-700 hidden sm:block\">\r\n            {doctorName}\r\n          </span>\r\n          <div className=\"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center\">\r\n            <UserCircle className=\"w-6 h-6 text-indigo-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAIA;AAAA;AAJA,+CAA+C;AAE/C;;;AAIA,0CAA0C;AAC1C,MAAM,gBAAgB;IACpB;;IAWA,OAAO;AACT;AAGe,SAAS,gBAAgB,EAAE,KAAK,EAAqB;IAClE,MAAM,aAAa;IAEnB,qBACE,wSAAC;QAAI,WAAU;;0BACb,wSAAC;gBAAG,WAAU;0BAAoC;;;;;;0BAElD,wSAAC;gBAAI,WAAU;;kCAEb,wSAAC;wBAAO,WAAU;kCAChB,cAAA,wSAAC,oQAAI;4BAAC,WAAU;;;;;;;;;;;kCAIlB,wSAAC;wBAAI,WAAU;;0CACb,wSAAC;gCAAK,WAAU;0CACb;;;;;;0CAEH,wSAAC;gCAAI,WAAU;0CACb,cAAA,wSAAC,0RAAU;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlC"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError } from 'axios';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3001';\r\n\r\nconst api: AxiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 10000,\r\n});\r\n\r\n// Request Interceptor (Token Ekleme)\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('access_token');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Response Interceptor (Hata Yakalama)\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error: AxiosError) => {\r\n    // ðŸš¨ 401 (Unauthorized) HatasÄ± Yakalama\r\n    if (error.response && error.response.status === 401) {\r\n      if (typeof window !== 'undefined') {\r\n        // 1. Token geÃ§ersiz, temizle\r\n        localStorage.removeItem('access_token');\r\n        \r\n        // 2. EÄŸer zaten login sayfasÄ±nda deÄŸilsek yÃ¶nlendir\r\n        if (!window.location.pathname.includes('/auth/login')) {\r\n          console.warn('Oturum sÃ¼resi doldu, giriÅŸ sayfasÄ±na yÃ¶nlendiriliyor...');\r\n          window.location.href = '/auth/login';\r\n        }\r\n      }\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAE7D,MAAM,MAAqB,0MAAK,CAAC,MAAM,CAAC;IACtC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,SAAS;AACX;AAEA,qCAAqC;AACrC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,uCAAuC;AACvC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,wCAAwC;IACxC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD;;IAUF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport DashboardHeader from '@/components/dashboard/DashboardHeader';\r\nimport { Users, Calendar, Clock, BarChart2, UserCircle } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport api from '@/services/api'; // Merkezi API servisi\r\nimport moment from 'moment';\r\n\r\nexport default function DashboardOverviewPage() {\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n  const [stats, setStats] = useState({ bugun: 0, bekleyen: 0, toplam: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        // Backend'den doktorun randevularÄ±nÄ± Ã§ek\r\n        const res = await api.get('/appointments/my-appointments');\r\n        const data = res.data;\r\n        setAppointments(data);\r\n\r\n        // Ä°statistikleri frontend'de hesapla (Backend endpoint'i yazÄ±lana kadar)\r\n        const bugun = moment().format('YYYY-MM-DD');\r\n        const bugunSayisi = data.filter((app: any) => moment(app.dateTime).format('YYYY-MM-DD') === bugun).length;\r\n        const bekleyenSayisi = data.filter((app: any) => app.status === 'PENDING').length;\r\n\r\n        setStats({\r\n          bugun: bugunSayisi,\r\n          bekleyen: bekleyenSayisi,\r\n          toplam: data.length\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Veri Ã§ekilemedi\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (loading) return <div className=\"p-8\">YÃ¼kleniyor...</div>;\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <DashboardHeader title=\"Genel BakÄ±ÅŸ\" />\r\n\r\n      {/* Ä°statistik KartlarÄ± - CanlÄ± Veri */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n        <StatCard title=\"BugÃ¼nkÃ¼ Randevu\" value={stats.bugun.toString()} icon={Clock} color=\"text-blue-500\" />\r\n        <StatCard title=\"Onay Bekleyen\" value={stats.bekleyen.toString()} icon={Calendar} color=\"text-yellow-500\" />\r\n        <StatCard title=\"Toplam KayÄ±t\" value={stats.toplam.toString()} icon={Users} color=\"text-green-500\" />\r\n        <StatCard title=\"AylÄ±k Ortalama\" value=\"-\" icon={BarChart2} color=\"text-indigo-500\" /> {/* Backend istatistik modÃ¼lÃ¼ yok */}\r\n      </div>\r\n\r\n      {/* Randevu Listesi - CanlÄ± Veri */}\r\n      <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n        <h3 className=\"text-xl font-semibold mb-4\">YaklaÅŸan Randevular</h3>\r\n        <div className=\"space-y-4\">\r\n          {appointments.slice(0, 5).map((app: any) => (\r\n            <div key={app.id} className=\"flex justify-between items-center border-b pb-3 last:border-0\">\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"p-2 bg-indigo-100 rounded-full\">\r\n                  <UserCircle className=\"w-5 h-5 text-indigo-600\" />\r\n                </div>\r\n                <div>\r\n                  <p className=\"font-medium text-gray-700\">{app.guestName}</p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {moment(app.dateTime).format('DD.MM.YYYY - HH:mm')}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <span className={`text-xs px-2 py-1 rounded ${app.status === 'PENDING' ? 'bg-yellow-100 text-yellow-800' : 'bg-green-100 text-green-800'}`}>\r\n                {app.status === 'PENDING' ? 'Onay Bekliyor' : app.status}\r\n              </span>\r\n            </div>\r\n          ))}\r\n          {appointments.length === 0 && <p className=\"text-gray-500\">Randevu bulunamadÄ±.</p>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StatCard({ title, value, icon: Icon, color }: any) {\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md flex items-center space-x-4\">\r\n      <div className={`p-3 rounded-full bg-opacity-10 ${color.replace('text-', 'bg-')}`}>\r\n        <Icon className={`w-6 h-6 ${color}`} />\r\n      </div>\r\n      <div>\r\n        <p className=\"text-sm font-medium text-gray-500\">{title}</p>\r\n        <p className=\"text-3xl font-bold text-gray-900\">{value}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}