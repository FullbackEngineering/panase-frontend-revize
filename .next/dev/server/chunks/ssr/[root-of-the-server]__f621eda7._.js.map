{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/components/dashboard/DashboardHeader.tsx"],"sourcesContent":["// src/components/dashboard/DashboardHeader.tsx\r\n\r\n'use client';\r\n\r\nimport { Bell, UserCircle } from 'lucide-react';\r\n\r\n// Doktor bilgisini LocalStorage'dan almak\r\nconst getDoctorName = () => {\r\n  if (typeof window !== 'undefined') {\r\n    const user = localStorage.getItem('user');\r\n    if (user) {\r\n      try {\r\n        const parsedUser = JSON.parse(user);\r\n        return parsedUser.firstName || \"Doktor\";\r\n      } catch (e) {\r\n        return \"Doktor\";\r\n      }\r\n    }\r\n  }\r\n  return \"Doktor\";\r\n};\r\n\r\n// Bu bileÅŸen, hangi sayfada olduÄŸumuzu 'title' prop'u ile alacak\r\nexport default function DashboardHeader({ title }: { title: string }) {\r\n  const doctorName = getDoctorName();\r\n\r\n  return (\r\n    <div className=\"flex justify-between items-center mb-8\">\r\n      <h1 className=\"text-4xl font-bold text-gray-900\">{title}</h1>\r\n      \r\n      <div className=\"flex items-center space-x-4\">\r\n        {/* Ä°kon 1: Bildirimler (Yeni) */}\r\n        <button className=\"p-2 rounded-full text-gray-500 hover:bg-gray-200 transition-colors\">\r\n          <Bell className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        {/* Doktor AdÄ± ve AvatarÄ± */}\r\n        <div className=\"flex items-center space-x-3\">\r\n          <span className=\"text-md font-medium text-gray-700 hidden sm:block\">\r\n            {doctorName}\r\n          </span>\r\n          <div className=\"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center\">\r\n            <UserCircle className=\"w-6 h-6 text-indigo-600\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAIA;AAAA;AAJA,+CAA+C;AAE/C;;;AAIA,0CAA0C;AAC1C,MAAM,gBAAgB;IACpB;;IAWA,OAAO;AACT;AAGe,SAAS,gBAAgB,EAAE,KAAK,EAAqB;IAClE,MAAM,aAAa;IAEnB,qBACE,wSAAC;QAAI,WAAU;;0BACb,wSAAC;gBAAG,WAAU;0BAAoC;;;;;;0BAElD,wSAAC;gBAAI,WAAU;;kCAEb,wSAAC;wBAAO,WAAU;kCAChB,cAAA,wSAAC,oQAAI;4BAAC,WAAU;;;;;;;;;;;kCAIlB,wSAAC;wBAAI,WAAU;;0CACb,wSAAC;gCAAK,WAAU;0CACb;;;;;;0CAEH,wSAAC;gCAAI,WAAU;0CACb,cAAA,wSAAC,0RAAU;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlC"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/services/api.ts"],"sourcesContent":["import axios, { AxiosInstance, AxiosError } from 'axios';\r\n\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3001';\r\n\r\nconst api: AxiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n  timeout: 10000,\r\n});\r\n\r\n// Request Interceptor (Token Ekleme)\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('access_token');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Response Interceptor (Hata Yakalama)\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error: AxiosError) => {\r\n    // ðŸš¨ 401 (Unauthorized) HatasÄ± Yakalama\r\n    if (error.response && error.response.status === 401) {\r\n      if (typeof window !== 'undefined') {\r\n        // 1. Token geÃ§ersiz, temizle\r\n        localStorage.removeItem('access_token');\r\n        \r\n        // 2. EÄŸer zaten login sayfasÄ±nda deÄŸilsek yÃ¶nlendir\r\n        if (!window.location.pathname.includes('/auth/login')) {\r\n          console.warn('Oturum sÃ¼resi doldu, giriÅŸ sayfasÄ±na yÃ¶nlendiriliyor...');\r\n          window.location.href = '/auth/login';\r\n        }\r\n      }\r\n    }\r\n    \r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAE7D,MAAM,MAAqB,0MAAK,CAAC,MAAM,CAAC;IACtC,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;IACA,SAAS;AACX;AAEA,qCAAqC;AACrC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,uCAAuC;AACvC,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,wCAAwC;IACxC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD;;IAUF;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Desktop/Projeler/PanaseWeb/panase-frontend/src/app/dashboard/randevular/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { tr } from 'date-fns/locale';\r\nimport { UserCircle, Phone, Mail, Check, X } from 'lucide-react';\r\nimport DashboardHeader from '@/components/dashboard/DashboardHeader';\r\nimport api from '@/services/api'; // ðŸš¨ DÃ¼zeltme\r\n\r\nexport default function DashboardRandevularPage() {\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchAppointments = async () => {\r\n    try {\r\n      const res = await api.get('/appointments/my-appointments');\r\n      setAppointments(res.data);\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAppointments();\r\n  }, []);\r\n\r\n  const updateStatus = async (id: string, status: string) => {\r\n    // Ä°yimser gÃ¼ncelleme (UI'Ä± hemen gÃ¼ncelle)\r\n    setAppointments(prev => prev.map(a => a.id === id ? { ...a, status } : a));\r\n    try {\r\n      await api.patch(`/appointments/${id}/status`, { status });\r\n    } catch (error) {\r\n      console.error(\"GÃ¼ncelleme hatasÄ±\", error);\r\n      fetchAppointments(); // Hata varsa geri al\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"p-8\">YÃ¼kleniyor...</div>;\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <DashboardHeader title=\"RandevularÄ±m\" />\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6\">\r\n        {appointments.map((app) => (\r\n          <div key={app.id} className=\"bg-white p-6 rounded-lg shadow border-l-4 border-indigo-500\">\r\n            <div className=\"flex justify-between mb-4\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <UserCircle className=\"w-10 h-10 text-gray-400\" />\r\n                <div>\r\n                  <h4 className=\"font-bold\">{app.guestName}</h4>\r\n                  <p className=\"text-sm text-gray-500\">{format(new Date(app.dateTime), 'dd MMMM HH:mm', { locale: tr })}</p>\r\n                </div>\r\n              </div>\r\n              <span className=\"text-xs font-bold px-2 py-1 bg-gray-100 rounded self-start\">{app.status}</span>\r\n            </div>\r\n            {app.status === 'PENDING' && (\r\n              <div className=\"flex gap-2 mt-4\">\r\n                <button onClick={() => updateStatus(app.id, 'CONFIRMED')} className=\"flex-1 bg-green-600 text-white py-2 rounded flex justify-center items-center gap-2 hover:bg-green-700\"><Check size={16}/> Onayla</button>\r\n                <button onClick={() => updateStatus(app.id, 'CANCELLED')} className=\"flex-1 bg-red-100 text-red-600 py-2 rounded flex justify-center items-center gap-2 hover:bg-red-200\"><X size={16}/> Reddet</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,mTAAkC,cAAc;AAPhD;;;;;;;;AASe,SAAS;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,2QAAQ,EAAQ,EAAE;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2QAAQ,EAAC;IAEvC,MAAM,oBAAoB;QACxB,IAAI;YACF,MAAM,MAAM,MAAM,2LAAG,CAAC,GAAG,CAAC;YAC1B,gBAAgB,IAAI,IAAI;QAC1B,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,4QAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO,IAAY;QACtC,2CAA2C;QAC3C,gBAAgB,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,KAAK;oBAAE,GAAG,CAAC;oBAAE;gBAAO,IAAI;QACvE,IAAI;YACF,MAAM,2LAAG,CAAC,KAAK,CAAC,CAAC,cAAc,EAAE,GAAG,OAAO,CAAC,EAAE;gBAAE;YAAO;QACzD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qBAAqB;YACnC,qBAAqB,qBAAqB;QAC5C;IACF;IAEA,IAAI,SAAS,qBAAO,wSAAC;QAAI,WAAU;kBAAM;;;;;;IAEzC,qBACE,wSAAC;QAAI,WAAU;;0BACb,wSAAC,uNAAe;gBAAC,OAAM;;;;;;0BACvB,wSAAC;gBAAI,WAAU;0BACZ,aAAa,GAAG,CAAC,CAAC,oBACjB,wSAAC;wBAAiB,WAAU;;0CAC1B,wSAAC;gCAAI,WAAU;;kDACb,wSAAC;wCAAI,WAAU;;0DACb,wSAAC,0RAAU;gDAAC,WAAU;;;;;;0DACtB,wSAAC;;kEACC,wSAAC;wDAAG,WAAU;kEAAa,IAAI,SAAS;;;;;;kEACxC,wSAAC;wDAAE,WAAU;kEAAyB,IAAA,yNAAM,EAAC,IAAI,KAAK,IAAI,QAAQ,GAAG,iBAAiB;4DAAE,QAAQ,2MAAE;wDAAC;;;;;;;;;;;;;;;;;;kDAGvG,wSAAC;wCAAK,WAAU;kDAA8D,IAAI,MAAM;;;;;;;;;;;;4BAEzF,IAAI,MAAM,KAAK,2BACd,wSAAC;gCAAI,WAAU;;kDACb,wSAAC;wCAAO,SAAS,IAAM,aAAa,IAAI,EAAE,EAAE;wCAAc,WAAU;;0DAAwG,wSAAC,uQAAK;gDAAC,MAAM;;;;;;4CAAK;;;;;;;kDAC9L,wSAAC;wCAAO,SAAS,IAAM,aAAa,IAAI,EAAE,EAAE;wCAAc,WAAU;;0DAAsG,wSAAC,2PAAC;gDAAC,MAAM;;;;;;4CAAK;;;;;;;;;;;;;;uBAdpL,IAAI,EAAE;;;;;;;;;;;;;;;;AAsB1B"}}]
}